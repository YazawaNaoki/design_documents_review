# ER図2
## 全体
- 入荷情報を保持するテーブルがない。
  > 入荷商品とその個数、入荷日時を保持するテーブルを作成してください。

- 配送先を複数保持するためのテーブルがない。
  > 現状ですと、顧客は配送先を一つしか保持出来ません。複数の配送先を登録できるようにしてください。

- 管理者テーブルとエンドユーザー、商品がそれぞれ関連づけられている。
  > 管理者とエンドユーザー、商品を関連付けた理由はありますか？


## エンドユーザー
- 名前カラムがない。
  > 名前を漢字で保持するカラムを追加してください。

- 主キーの命名が間違っている。
  > テーブル名が「エンドユーザー」ですので、PK（主キー）は「エンドユーザーID」に修正してください。

## 商品
- 在庫数カラムがある。
  > 在庫数は入荷情報と受注履歴から算出することができます。商品に在庫数カラムを持たせてしまうと、「在庫数」と「入荷情報・受注履歴から算出される在庫数」の間に齟齬が生まれる可能性があります。

- ディスクIDという外部キーがある。
  > ディスクIDは必要でしょうか。リレーションをもう一度見直してみてください。

- 発売日カラムがない。
  > 発売日を保持するカラムを追加してください。

- ディスク枚数カラムがある。
  > ディスク枚数は、ディスクテーブル内の情報から算出することができます。本カラムを持たせてしまうと、「ディスク枚数」と「ディスクテーブルに登録されているディスク枚数」の間に齟齬が生まれる可能性があります。

- ステータスが何を意味しているか不明。（）に意味を書くのではなくカラム名にわかりやすい命名をする。
  > カラムには、わかりやすい名前を付けてください。今回であれば「販売ステータス」などとするのがいいと思います。

## ジャンル
- ジャンルというカラムの命名が適切でない。
  > もしジャンル名を表すカラムを作成するのであれば、「ジャンル名」と命名する方が適切です。

## レーベル
- レーベルというカラムの命名が適切でない。
  > もしレーベル名を表すカラムを作成するのであれば、「ジャンル名」と命名する方が適切です。

## ディスク
- 商品とディスクのテーブルのリレーションが逆になっている。
  > テーブル同士のリレーションをもう一度確認してください。

- トラックNo.カラムがある。
  > トラック番号はディスクの中の曲順です。
  > ・1.1曲目
  > ・2.2曲目
  > ・3.3曲目
  > というイメージです。
  > よってディスクテーブルにトラックNo.カラムは必要ありません。

- ディスク名カラムがない。
  > ディスクが複数ある場合どのようにディスクを管理しますか？

## 曲
- ディスクと曲のテーブルのリレーションが逆になっている。
  > テーブル同士のリレーションをもう一度確認してください。

- トラックNo.カラムがない。
  > CDには通常トラックナンバーのように曲順を管理するカラムがあります。トラックNo.カラムを追加してください。

## カートアイテム
- PK（主キー）がない。
  > PK（主キー）を追加してください。

- 小計カラムがある。
  > 小計は商品の価格と数量から算出できます。「小計カラム」と「商品の価格 × 数量」の値に齟齬が生じる可能性があるため、小計カラムは持たせるべきではありません。

## 購入
- 管理者側から見た役割で命名する方が適切であるから、テーブル名が適切でない。
  > テーブル名は「受注」「注文」というように、管理者側から見て命名するようにしてください。

- 宛名と郵便番号カラムがない。
  > 現在、送付先住所カラムはありますが、宛名や郵便番号も含めて送付先住所カラムに登録するのでしょうか。エンドユーザーテーブルでは、名前、郵便番号、住所というようにカラムが分かれています。

- 購入日カラムがある。
  > 購入日は本テーブルの1レコードが作成された日にち、つまり「created_at」と一致します。購入日カラムを作成した理由がありましたら教えてください。

- 発送状況を保持するカラムがない。
  > 発送状況（出荷、発送中、発送完了など）を保持するカラムを追加してください。顧客が注文した商品の発送状況を確認できるようにしたいです。

## 購入詳細
- 管理者側から見た役割で命名する方が適切であるから、テーブル名が適切でない。
  > テーブル名は「受注詳細」「注文詳細」というように、管理者側から見て命名するようにしてください。

- 購入テーブルと購入詳細テーブルのリレーションが逆。
  > テーブル同士のリレーションをもう一度確認してください。

- 商品テーブルとのリレーションがない。
  > 購入した商品の情報はどのように保持しますか？

- 購入時価格を保持するカラムがない。
  > 購入時価格を保持するカラムを追加してください。顧客が商品を購入した後に管理者が商品の値段を変更した場合、顧客の購入履歴の情報も変更されるということが起きてしまいます。

管理者テーブルについての指摘は、「全体」で言及しているので修正は不要とのことです。


**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

