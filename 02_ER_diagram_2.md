# ER図2
## 全体
- 更新日、登録日カラムを更新日時、作成日時カラムとしたい
 > 更新日、登録日となっていますが適切でしょうか？

## エンドユーザ
- 名を示すカラムがない
 > 名を示すカラムがありませんので追加しましょう
- ユーザidではなくエンドユーザidとする方が親切
 > ユーザidだと少し不明瞭ですので、エンドユーザidなどとしましょう
- エンドユーザは複数の配送先を持つため、配送先テーブルが必要（エンドユーザに対して多対１の関係）
 > エンドユーザは複数の配送先を持ちます。正規化の観点から見直してみましょう。
- 退会ステータスではなく、会員ステータスなどとしたほうが親切
 > 退会ステータスではなく会員ステータスなどとしたほうが親切です
## カート
- 名称を「カート内商品」などとしたほうがわかりやすい
 > テーブル名はカート内商品などとしたほうがわかりやすいです
- PKにユーザidは不適当。カートidをPKとし、ユーザidはFKとする。
 > PKにユーザidは不適切です。また、FKとして適切なものを追加しましょう
- 実際に購入しているわけではないため、カラムの名称として「購入枚数」は不適当。「個数」や「枚数」としたい。
 > 実際に購入しているわけではないため、カラムの名称として「購入枚数」は不適切です。
- 小計金額は紐付いている商品テーブルの税抜価格カラムとカートカラムの個数（枚数）カラムから算出できるため不要
 > 小計金額は他のカラムや他のテーブルから導き出せるため不要です

## 商品
- 商品名を表すカラムがない
 > 商品名を表すカラムが必要です
- 発売日を表すカラムがない
 > 発売日を表すカラムが必要です
- ステータスだとわかりにくいので、「販売ステータス」などとしたい
 > ステータスだとわかりにくいので、「販売ステータス」などわかりやすい名称にしましょう
- 商品とディスクは１対多の関係にあるため、カーディナリティが逆
 > ディスクとのカーディナリティを見直してみましょう
- ディスクidは不要
 > ディスクidは不要です
- 購入詳細テーブルに対して1対多の関係にあるため、リレーションを付与する
 > 購入詳細テーブルとの間にリレーションを付与しましょう
- 在庫数は入荷記録と受注詳細記録から算出するため、在庫数カラムは不要
 > 在庫数は他のテーブル、カラムから算出するため、在庫数カラムは不要です
- 商品が削除される場合を考慮し、削除された日時を示すカラムが必要 
 > 商品が削除された日時を示すカラムを追加しましょう。

## 購入
- 「購入」だとどういった内容なのか判然としないため、「注文」「注文履歴」「購入履歴」などとしたい
 > テーブル名がわかりにくいため、管理者側からみて、「注文」などとしましょう。
- 配送先を表すカラムとして、「送付先住所」は不適当。郵便番号、住所と分けたい。
 > 配送先を表すカラムとして、「送付先住所」は不適当です。郵便番号、住所と分けましょう。
- 宛名（受取人）を表すカラムが必要
 > 宛名を表すカラムが必要です
- 支払合計より商品合計金額のほうが良い（送料カラムがあるため）
 > 支払合計より商品合計金額のほうが良いです（送料カラムがあるため） 
- 購入日カラムはデフォルトで生成されるcreated_atカラムと役割が重複するため不要
 > 購入日カラムはデフォルトで生成されるcreated_atカラムと役割が重複しますが、どのように考えていますか？
- 配送ステータスを示すカラムが必要
 > 配送状況を表すカラムが必要です
- 購入詳細（注文詳細）と１対多の関係にあるため、カーディナリティが逆
 > 購入詳細との間のリレーション（カーディナリティ）を見直してみましょう。

## 購入詳細
- テーブル名を”注文詳細”、"注文商品"などとしたほうがわかりやすい
 > テーブル名は「注文詳細」などとしたほうがわかりやすいです
- FKとして購入（注文）idと商品idが必要
 > 必要なリレーションを追加したあと、必要なFKについて見直してみましょう
- 購入時価格を表すカラムが必要
 > 購入時の価格を表すカラムが必要です。注文時とそれ以外で価格が変わる場合を考慮しましょう。
- 小計金額は購入枚数と購入時価格のカラムから導出できるため不要
 > 小計金額は他のカラムから導出できるため、小計金額カラムは不要です

## 入荷
- 入荷日カラムはcreated_atカラムと役割が重複するため不要（※発注日と入荷日を別の概念とするならば必要）
 > 入荷日カラムはcreated_atカラムと役割が重複しますが、必要であれば理由を教えてください

## ディスク
- FKとして商品idが必要
 > FKとして必要なものを追加しましょう
- 曲名に対して１対多の関係にあるためカーディナリティが逆
 > 曲名とのリレーション（カーディナリティ）を見直してみましょう。
- 曲名idは不要
 > 曲名idは不要です
- トラック番号カラムは不要。合計トラック数を示すカラムなどがあるとよい
 > トラック番号カラムは不要です。

## 曲名
- テーブル名が曲名は不適切
 > テーブル名が曲名は不適切です
- FKとしてディスクidが必要
 > FKとして必要なものを追加しましょう
- トラック番号カラムがほしい
 > トラック番号カラムが必要です

## ジャンル
- ジャンルはジャンル名とした方が親切
 > ジャンルはジャンル名としたほうがよいです

## レーベル
- レーベルはレーベル名とした方が親切
 > レーベルはレーベル名としたほうがよいです

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## 研修担当レビュー
合格です。

## 全体
## ジャンル
> ジャンルの有効、無効を示すカラムがあるとよい
  - 少しややこしいのですが、今回の要件的に指摘は必要ありません。実際の2か月目のチーム開発では必要です。
  
## 購入
> 購入価格を表すカラムが必要
  - とありますが、購入詳細の方で用意するので不要かと思います。
