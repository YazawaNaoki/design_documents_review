# ER図2
## 全体
- 更新日、登録日カラムを更新日時、作成日時カラムとしたい

##エンドユーザ
- 名を示すカラムがない
- ユーザidではなくエンドユーザidとする方が親切
- エンドユーザは複数の配送先を持つため、配送先テーブルが必要（エンドユーザに対して多対１の関係）
- 退会ステータスではなく、会員ステータスなどとしたほうが親切

##カート
- 名称を「カート内商品」などとしたほうがわかりやすい
- PKにユーザidは不適当。カートidをPKとし、ユーザidはFKとする。
- 実際に購入しているわけではないため、カラムの名称として「購入枚数」は不適当。「個数」や「枚数」としたい。
- 小計金額は紐付いている商品テーブルの税抜価格カラムとカートカラムの個数（枚数）カラムから算出できるため不要

##商品
- 商品名を表すカラムがない
- 発売日を表すカラムがない
- ステータスだとわかりにくいので、「販売ステータス」などとしたい
- 商品とディスクは１対多の関係にあるため、カーディナリティが逆
- ディスクidは不要
- 購入詳細テーブルに対して1対多の関係にあるため、リレーションを付与する
- 在庫数は入荷記録と受注詳細記録から算出するため、在庫数カラムは不要
- 商品が削除される場合を考慮し、削除された日時を示すカラムが必要 

## 購入
- 「購入」だとどういった内容なのか判然としないため、「注文」「注文履歴」「購入履歴」などとしたい
- 購入価格を表すカラムが必要
- 配送先を表すカラムとして、「送付先住所」は不適当。郵便番号、住所と分けたい。
- 宛名（受取人）を表すカラムが必要
- 支払合計より商品合計金額のほうが良い（送料カラムがあるため）
- 購入日カラムはデフォルトで生成されるcreated_atカラムと役割が重複するため不要
- 配送ステータスを示すカラムが必要
- 購入詳細（注文詳細）と１対多の関係にあるため、カーディナリティが逆

#購入詳細
- テーブル名を”注文詳細”、"注文商品"などとしたほうがわかりやすい
- FKとして購入（注文）idと商品idが必要
- 購入時価格を表すカラムが必要
- 小計金額はカラム購入枚数と購入時価格のカラムから導出できるため不要

#入荷
- 入荷日カラムはcreated_atカラムと役割が重複するため不要（※発注日と入荷日を別の概念とするならば必要）

#ディスク
- FKとして商品idが必要
- 曲名に対して１対多の関係にあるためカーディナリティが逆
- 曲名idは不要

#曲名
- FKとしてディスクidが必要

#ジャンル
- ジャンルはジャンル名とした方が親切
- ジャンルの有効、無効を示すカラムがあるとよい

#レーベル
- レーベルはレーベル名とした方が親切

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
