# テーブル定義書1

## 全体
- idのカラム名は~_idではなく、単にidでよい
 > PKとしてのidのカラム名~idとせず、単にidとしましょう
- 配送先テーブルが必要
 > 配送先を管理するテーブルが必要です
- 入荷テーブルが必要
 > 入荷を管理するテーブルが必要です
- created_at, updated_atカラムの説明がすべてユーザ〜となっているのは不適当
 > created_at, updated_atカラムの説明を見直してみましょう

## Admin
- テーブル名は複数形とする
 > テーブル名は複数形にしましょう
- idをPKとする必要がある
 > PKを設定しましょう
- admin_email, admin_passwordは単にemail, passwordでよい
 > admin_email, admin_passwordとせず、単にemail, passwordとしたほうがわかりやすいです
## Users
- テーブル名はend_usersテーブルなどとすほうがよい
 > テーブル名はend_usersなどとするほうがわかりやすいです
- カラム名にuser_l_nameなどと略語を使わないほうがよい
 > カラム名に略語を使うのは控えましょう。
- user_l_name, user_l_kana, user_telなど、userを付ける必要はない
 > user_l_nameなどuserをつけないほうがわかりやすいです
- user_f_name, user_f_kanaにもNOT NULL制約を付与する
 > NOT NULL制約を見直してみましょう
- user_l_nameの備考として”名前”は端的すぎるし、不要
 > user_l_nameの備考を見直してみましょう
- zip_code, telカラムのデータ型はstringとする。（0から始まる場合があるため）。備考も削除する
 > zip_code, telカラムのデータ型がintegerとなっていますが、0から始まる場合を考慮しましょう。
- 配送先テーブルがあるため、ship_addressカラムは不要
 > 配送先テーブルがあるため、ship_addressカラムは不要です
- member_statusカラムの名称がわかりにくいため、is_availableなどとし、データ型をboolean型としたい
 > member_statusではその機能が不明瞭です。よりわかりやすい名称にし、データ型やDEFAULTを見直してみましょう。

## Products
- genre_id, label_id,artist_idをFKに指定する
 > FKの指定が必要です。考えてみましょう。
- cd_image, cd_titileは単にimage, titleでよい
 > cd_image, cd_titleは単にimage, titleとしたほうがわかりやすいです
- imageにDEFAULTとしてnullを指定する必要はない
 > imageのDEFAULTにnullを指定した理由を教えて下さい
- imageカラムのデータ型はstringが望ましい
 > imageカラムのデータが型はstringとしましょう
- 商品の販売ステータス（販売中か販売停止中か）を示すカラムがほしい
 > 商品の販売ステータス（販売中か販売停止中か）を示すカラムが必要です
- cd_imageカラム名は末尾に_idとつけたい
 > refileを使う場合、カラム名がcd_imageだと不適切です。考えてみましょう。

## Discs
- products_idカラムでproductsと複数形になっているのは不適切
 > products_idカラムでproductｓと複数形になっているのは不適切です
 
## Songs
- 名前を示すカラム名はsongではなくnameが適当
 > カラム名がsongでは機能がわかりにくいので適切な名称をつけましょう
- ↑のデータ型はintegerではなくstring
 > 名前を表すカラムのデータ型がintegerとなっていますが、不適切です。

## Labels
- PKとしてidが必要
 > PKとしてidが必要です
- label名を示すカラムとしてはlabelではなくnameが適当
 > カラム名がlabelだとわかりにくいので適切な名称をつけましょう

## Artists
- PKとしてidが必要
 > PKとしてidが必要です
- アーティスト名を示すカラムとしては、artistではなくnameなどが適当
 > カラム名がartistだと機能がわかりにくいので、適切な名称をつけましょう。
- ↑のデータ型はintegerではなくstring
 > 名前を表すカラムのデータ型がintegerは不適切です
## Genre
- テーブル名はGenresとしたい
 > テーブル名は複数形にしましょう
- ジャンル名を示すカラムとしてはgenreではなくnameなどが適当
 > カラム名がgenreだと機能がわかりにくいので適切な名称をつけましょう。
- ↑のデータ型はintegerではなくstring
 > 名前を表すカラムのデータ型がintegerは不適切です
 
## Cart item
- テーブル名はCart_itemsと複数形にする
 > テーブル名は複数形にしましょう
- PKとしてidが必要
 > PKとしてidが必要です
- products_idではなく、単数形のproduct_id。データ型はinteger
 > FKのproducts_idが複数形となっているのは不適切です。また、データ型を追加しましょう。
- 購入枚数buy_numはすでに購入しているわけではないので単に数量amountなどとするほうがよい。
 > まだ購入しているわけではないので、buy_numは不適切です。適切な名称を考えましょう。また、カラム名には空白は使用できませんので、アンダーバーを用いましょう。

## Buy details
- テーブル名は管理者側から見てorder_detailsなどとするほうが適切
 > テーブル名は管理者側から考えて、order_detailsなどとしましょう
- buy_numはわかりにくいため、単にamountなどとしたい。
 > buy_numではわかりにくいため、適切な名称を考えましょう。また、カラム名には空白は使用できませんので、アンダーバーを用いましょう。
- 購入id(buy_id)のデータ型はinteger、not null制約も付与
 > buy_idにデータ型を追加し、not null制約を付与しましょう

## Buy
- テーブル名は複数形にする
 > テーブル名は複数形にしましょう
- payだとわかりにくい。（支払い方法は名詞系のpaymentとするのが適切）
 > カラム名がpayだと機能がわかりにくいので、適切な名称をつけましょう
- 支払い方法を表すカラムのデータ型はinteger型にする
 > 支払い方法を表すカラムのデータ型はinteger型にする方がわかりやすいです
- テーブル名は管理者側から見てordersなどとするほうが適切
 > テーブル名は管理者側から見てordersなどとするほうが適切です
- 注文状況（配送済、振込済みなど）を表すカラムが必要
 > 注文状況（配送済、振込済みなど）を表すカラムが必要です
- ship_addressなどは単にaddressなどとしてよい
 > ship_addressなどは単にaddressなどとたしたほうがわかりやすいです
- カラム名がstockだとわかりにくい
 > カラム名がstockだと機能がわかりにくいので、適切な名前をつけましょう。



# 指摘事項
## users
- user_l_name, user_l_kana, user_telなどは単にl_name, l_kana, tellでよい
 - l_nameなどの略語を使用するのはふさわしく無い
- member_statusカラムのデータ型をboolean型とした
  - どう言う意味ですか。。。
  - member_statusが何を意味してるカラムかわからないのでカラム名としてよくない
  
## products
- 商品のステータスを示すカラムがほしい
  - これはどういうことでしょうか
 

## discs
- ディスクの順番を表すカラムは要件にないため不要
  - こちらは必要です。
- あと２つ抜けているので考えてみてください！

## songs
- FKとしてディスクidカラムが必要
  - 存在してた気がする

## products
- FKとして商品id(product_id)を加えたい
  - これはいらないです
- priceカラムは不要。他のテーブルから導出できる。
  - priceカラムは持っておきましょう
- あと１つ指摘できることがあります

## buy
- 注文ステータスを示すカラムが必要
  - 注文ステータスとは
- 支払い方法は名詞系のpaymentとするのが適切
  - paymentとするのが適切では無いが、今回は問題指摘だけなので「payだと何を意味しているかわからない」程度にしておきましょう。


# 研修担当レビュー 2回目
- 再提出の際、以下は残しておいてください。

## 全体
- マークダウンの書式として、"##"の後にスペースが必要です。
  - プレビュー機能もご活用下さい。
- 修了試験について、5の詳細設計以外は、READMEに書いている要件を見て下さい。
  - ところどころ、現行要件が混ざっているところが見受けられます。
- created_at, updated_atのカラム説明に問題はありませんでしょうか。

## Users
> zip_codeはpostal_codeなどとしたほうがよい
- zip_codeも郵便番号ですので指摘不要です。

## Products
> テーブル名はproducsよりもitemsなどとするほうが適切
- productsでも正しいですが...?
> ディスクの枚数を示すカラムが必要
- @item.discs.countで取得可能です。
  - わざわざカラムを追加すると、ディスクが増えた際にこのカラムを更新する手間が増え、無駄です。
- refileを使う際、ジャケット画像カラムのカラム名は適切でしょうか。

## Discs
> 収録されている曲数や合計時間を示すカラムがほしい
- Productsのディスク枚数と同様です。
  - 子要素のカラム合計を算出することも可能です。
  
## Genre
> ジャンルの有効無効を示すカラムがあるとよい
- 今回の要件には不要です。(現行にはあります)

## buy
> 支払合計は商品合計としたほうが良い（送料カラムがあるため）
- ここでいう商品合計と送料を合算した、総計にあたるカラムが必要です。
  - なのでこの指摘は不要です
  - ただカラム名がstockなのは意味不明なので、かわりにカラム名の指摘が必要です。


# 研修担当レビュー 3回目
- **合格です。**
