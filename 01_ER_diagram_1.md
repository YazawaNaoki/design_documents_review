# ER図1
## 全体
- ディスクテーブルが必要（商品とディスクは1対多の関係）
 > 要件から、商品は複数のディスクをもちますので、ディスクテーブルを作成しましょう
- 曲テーブルが必要（ディスクと曲は1対多の関係）
 > 要件から、ディスクに対応して曲を管理できるようにしなければならないため、曲テーブルを作成しましょう
- 入荷記録テーブルが必要
 > どのようにして入荷数や在庫数を算出しますか？必要なテーブルを追加しましょう

- ActiveRecordで自動生成される作成日時、更新日時のカラムが必要
 > ActiveRecordで自動生成される作成日時、更新日時のカラムがありませんので追加しましょう。

## 管理人
- ユーザとのリレーションが不要
 > どのような場面でユーザとのリレーションが必要になりますか？
- 商品とのリレーションが不要
 > どのような場面で商品とのリレーションが必要になりますか？

## ユーザ
- ユーザだとどういったユーザなのか判然としないため、「エンドユーザ」「会員」などとしたい
 > ユーザだとわかりにくいため、「エンドユーザ」などとしましょう
- 会員ステータスを表すカラムがない
 > ユーザが退会したとき、どのようにそれに紐づくデータを呼び出しますか？
- 管理人idが不要
 > FKとして管理人idは必要ですか？
- １以上の配送先をもつため、カーディナリティを修正する必要性がある
 > ユーザは1つ以上の配送先をもちますが、カーディナリティに問題はありませんか？

## 配送先


## 購入
- 「購入」だとどういった内容なのか判然としないため、「注文」「注文履歴」「購入履歴」などとしたい
 > テーブル名が「購入」だとわかりにくいので、「注文」など管理者側から見てわかりやすい名称にしましょう
- 配送先を表すカラムがない
 > 注文の配送先についてどのように管理しますか？
- 送料を表すカラムがない
 > 送料を表すカラムを追加しましょう。　
- 配送ステータスを示すカラムがない
 > 配送状況をどのように管理しますか？

- 購入日カラムは、ActiveRecordで自動生成されるcreated_atカラムで代替できるため不要
 > 購入日カラムはActiveRecordで自動生成されるcreated_atカラムとう役割が重複しますが、どのように考えていますか？
- 商品テーブルとの間に注文商品テーブルを作成し、商品idカラムと注文個数カラムはそちらに追加するため不要。
 > 商品テーブルと購入テーブルは多対多の関係にあり不適切ですので、中間テーブルを作成しましょう
 > 商品idと注文個数カラムは作成した中間テーブルに追加しましょう
 - 購入価格を表すカラムがない
 > 購入時の商品の価格はどのようにして呼び出しますか？
 
## 商品
- 商品名を表すカラムがない
 > 商品名を表すカラムが必要です
- 発売日を表すカラムがない
 > 発売日を表すカラムが必要です
- ディスクの枚数を表すカラムがない
 > ディスクの枚数を表すカラムが必要です
- アーティストは正規化の観点から別のテーブルとしたい
- レーベルは正規化の観点から別のテーブルとしたい
- ジャンルは正規化の観点から別のテーブルとしたい
 > 正規化の観点から商品テーブルを見直しましょう。
- ステータスだとわかりにくいので、「販売ステータス」などとしたい
 > ステータスだとわかりにくいので、わかりやすい名称にしましょう。
- 商品と購入（注文）テーブルは多対多の関係あるため、カーディナリティを修正したいが、多対多の関係は望ましくないため、中間テーブルとして「注文商品」を作成したい
- 管理人idが不要
 > 管理人idは不要です。必要であれば理由を教えて下さい。

- 在庫数は入荷記録と受注詳細記録から算出するため、在庫数カラムは不要
 > 在庫数は他のカラムから算出できます。余計なカラムがあると変更があった際に手間が増えるので削除しましょう。
- 商品が削除される場合を考慮し、削除された日時を示すカラムが必要 
 > 削除された日時を示すカラムが必要です。

##カート
- テーブル名を”カート内商品”などとしたほうがわかりやすい
 > テーブル名がカートだとわかりにくいので、わかりやすい名称にしましょう
- ユーザとカート内商品にリレーション（1対多の関係）をもたせ、カート内商品テーブルをユーザと商品の中間テーブルと位置づけたい
- カート内商品テーブルにFKとしてユーザIDカラムを追加したい
 > ユーザと商品を紐つけたいところですが、多対多の関係となってしまうため、カートテーブルを中間テーブルとし、外部キーとして必要なものを付与しましょう。
- アーティスト名、ジャケット画像、シングル/アルバム名は親要素である商品テーブルから参照できるためそれらのカラムは不要
 > アーティスト名、ジャケット画像、シングル/アルバム名は親要素である商品テーブルから参照できるためそれらのカラムは不要です。
- 同様に、合計金額も親要素である商品テーブルの税抜価格カラムとカート内商品テーブルの購入枚数の積から求められるため、合計金額カラムも不要
 > 同様に、合計金額も親要素である商品テーブルの税抜価格カラムとカート内商品テーブルの購入枚数の積から求められるため、合計金額カラムも不要です

- PKの名称として、注文idは不適当で、カート内商品idなどとしたい
 > PKの名称として、注文idは不適当です。

<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- Railsで自動で作成されるカラム(id, created_at, updated_at)のことを考慮されていますでしょうか。

## 商品
- 商品が削除された時のことを考慮されていますでしょうか。
- 在庫数カラムは必要でしょうか。

## カート
- PKの名称を見直してみてください。

## 購入
- 購入日カラムは必要でしょうか。ご確認をお願いいたします。

- 注文商品テーブルを作成する場合に、購入テーブルに商品idと注文個数は必要でしょうか。ご確認をお願いします。

## レビュー2回目
合格です！！
