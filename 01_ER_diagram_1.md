# ER図1
## 全体
- ディスクテーブルが必要（商品とディスクは1対多の関係）
- 曲テーブルが必要（ディスクと曲は1対多の関係）
- 入荷記録テーブルが必要

- ActiveRecordで自動生成される作成日時、更新日時のカラムが必要

##管理人
- ユーザとのリレーションが不要
- 商品とのリレーションが不要

## ユーザ
- ユーザだとどういったユーザなのか判然としないため、「エンドユーザ」「会員」などとしたい
- 会員ステータスを表すカラムがない
- 管理人idが不要
- １以上の配送先をもつため、カーディナリティを修正する必要性がある

## 配送先


## 購入
- 「購入」だとどういった内容なのか判然としないため、「注文」「注文履歴」「購入履歴」などとしたい
- 購入価格を表すカラムがない
- 配送先を表すカラムがない
- 送料を表すカラムがない
- 配送ステータスを示すカラムがない

- 購入日カラムは、ActiveRecordで自動生成されるcreated_atカラムで代替できるため不要
- 商品テーブルとの間に注文商品テーブルを作成し、商品idカラムと注文個数カラムはそちらに追加するため不要。

##商品
- 商品名を表すカラムがない
- 発売日を表すカラムがない
- ディスクの枚数を表すカラムがない
- アーティストは正規化の観点から別のテーブルとしたい
- レーベルは正規化の観点から別のテーブルとしたい
- ジャンルは正規化の観点から別のテーブルとしたい
- ステータスだとわかりにくいので、「販売ステータス」などとしたい
- 商品と購入（注文）テーブルは多対多の関係あるため、カーディナリティを修正したいが、多対多の関係は望ましくないため、中間テーブルとして「注文商品」を作成したい

- 在庫数は入荷記録と受注詳細記録から算出するため、在庫数カラムは不要
- 商品が削除される場合を考慮し、削除された日時を示すカラムが必要 

##カート
- テーブル名を”カート内商品”などとしたほうがわかりやすい
- ユーザとカート内商品にリレーション（1対多の関係）をもたせ、カート内商品テーブルをユーザと商品の中間テーブルと位置づけたい
- カート内商品テーブルにFKとしてユーザIDカラムを追加したい
- アーティスト名、ジャケット画像、シングル/アルバム名は親要素である商品テーブルから参照できるためそれらのカラムは不要
- 同様に、合計金額も親要素である商品テーブルの税抜価格カラムとカート内商品テーブルの購入枚数の積から求められるため、合計金額カラムも不要

- PKの名称として、注文idは不適当で、カート内商品idなどとしたい

<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- Railsで自動で作成されるカラム(id, created_at, updated_at)のことを考慮されていますでしょうか。

## 商品
- 商品が削除された時のことを考慮されていますでしょうか。
- 在庫数カラムは必要でしょうか。

## カート
- PKの名称を見直してみてください。

## 購入
- 購入日カラムは必要でしょうか。ご確認をお願いいたします。

- 注文商品テーブルを作成する場合に、購入テーブルに商品idと注文個数は必要でしょうか。ご確認をお願いします。

## レビュー2回目
合格です！！
