# テーブル定義書2
## 全体
- PK（主キー）の命名に「テーブル名_」が付いている。
  > 何の主キーであるかはテーブル名から分かりますので、「テーブル名_」という接頭語は不要です。

## admins
- PK（主キー）に INDEX が付与されていない。
  > PK（主キー）にはデフォルトでINDEXが付与されます。

- メールアドレスとパスワードのカラムに「admin_」が付いている。
  > テーブル名からそれぞれのカラムは「adminに関するもの」ということが明白ですので、接頭語は必要ありません。

## users
- 「姓」の漢字が間違っている。
  > 「性」ではなく「姓」です。

- user_l_name、user_f_name、user_l_kana、user_f_kanaカラムの命名が適切でない。
  > テーブル名から、それぞれのカラムは「userに関するもの」ということが明白ですので「user_」という接頭語は必要ありません。また、カラム名はなるべく省略せずに命名してください。今回であれば「l」は「last」に、「f」は「first」に修正しましょう。

- member_statusカラムが何を表すかが不明。
  > 本カラムは「退会しているか否か」を表すカラムなのでmember_statusというカラム名は適切ではありません。論理削除を実装する際のカラムを調べてみてください。

## ships
- ship_name、ship_address、ship_tel、ship_codeカラムのそれぞれに「ship_」が付いている。
  > テーブル名から、それぞれのカラムは「shipに関するもの」ということが明白ですので「ship_」という接頭語は必要ありません。

- 主キーにINDEXが付与されていない。
  > PK（主キー）にはデフォルトでINDEXが付与されます。

## product
- 在庫数カラムがある。
  > 在庫数は入荷情報と受注履歴から算出することができます。商品に在庫数カラムを持たせてしまうと、「在庫数」と「入荷情報・受注履歴から算出される在庫数」の間に齟齬が生まれる可能性があります。

- 在庫ステータスカラムがある。
  > 在庫ステータスは在庫数から導けるのではないでしょうか。在庫ステータスカラムを持たせてしまうと、在庫数との間に齟齬が生まれたり、在庫ステータスの更新が遅れてしまう可能性があります。

## discs
- FK（外部キー）であるproducts_idカラムの命名が適切でない。
  > FK（外部キー）を設定する場合は、カラム名は {参照先テーブル名の単数形}_idが基本系です。

- disc_numカラムの「disc_」が不要。
  > テーブル名から、本カラムは「discに関するもの」ということが明白ですので「disc_」という接頭語は必要ありません。

## songs
- songカラムは曲名を表すため、命名が適切でない。
  > もし曲名を表すカラムを作成するのであれば、nameカラムなどにしてください。何のnameを表しているかは、テーブル名から判断できます。

## labels
- labelカラムはレーベル名を表すため、命名が適切でない。
  > もしレーベル名を表すカラムを作成するのであれば、nameカラムなどにしてください。何のnameを表しているかは、テーブル名から判断できます。

## artists
- artistカラムはアーティスト名を表すため、命名が適切でない。
  > もしアーティスト名を表すカラムを作成するのであれば、nameカラムなどにしてください。何のnameを表しているかは、テーブル名から判断できます。

## genres
- genreカラムはジャンル名を表すため、命名が適切でない。
  > もしジャンル名を表すカラムを作成するのであれば、nameカラムなどにしてください。何のnameを表しているかは、テーブル名から判断できます。

## cart items
- テーブル名がスネークケースになっていない。
  > Active RecordにおけるCoCを見直して正しいテーブル名にしてください。

- FK（外部キー）であるproducts_idカラムの命名が適切でない。
  > FK（外部キー）を設定する場合は、カラム名は {参照先テーブル名の単数形}_idが基本系です。

- 「buy num」カラムが空白を含んでいる。
  > カラムに空白を設けることは出来ません「_」アンダーバーを使ってください。

## sell_details
- FK（外部キー）であるproducts_idカラムの命名が適切でない。
  > FK（外部キー）を設定する場合は、カラム名は {参照先テーブル名の単数形}_idが基本系です。

- 購入時価格を保持するカラムがない。
  > 購入時カラムを追加してください。現在の設計ですと、顧客が商品を購入した後に管理者が商品の値段を変更した場合、顧客の購入履歴の情報も変更されるということが起きてしまいます。

- sellモデルのidを保持するカラムがない。
  > 本テーブルはsellsテーブルとリレーションを持っていたはずです。外部キーを保持する適切なカラムを作成してください。

## sell
- payカラムは支払い方法を表すため、命名が適切でない。
  > 「pay_method」などとする方がわかりやすいです。

- 購入詳細IDカラムがある。
  > 購入詳細IDという外部キーを保持するカラムがありますが、必要ですか？もう一度ER図を確認してください。

**研修担当レビュー**

## 全体
- テーブル名が小文字になっていますがよろしいですか。

## ships
- 主キーにINDEXが付与されていませんがよろしいですか。

## discs
- disc_numというカラム名ではdisc.disc_numとなってしまいます。

## cart_times
[修正] 命名はこのままで問題ないです。カラム名に空白があることが問題です。

## sell_details
- sell_numでも大丈夫です。
- sell_detailsは何かとリレーションを持っていたはずです。
##　指摘事項
- 合格です！
